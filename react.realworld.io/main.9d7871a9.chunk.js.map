{"version":3,"sources":["components/information/information.js","components/feeds/tags/tagsList/tagsList.js","components/feeds/tags/tags.js","components/feeds/articles/article/userInf/userInf.js","context/currentUser/currentUserContext.js","library/hooks/useLocalStorage.js","library/hooks/useFetch.js","components/button/FavoriteButton/FavoriteButton.js","components/feeds/articles/article/article.js","components/feeds/articles/articles.js","components/feeds/tabs/tabs.js","components/loader/loader.js","components/backendErrors/backendErrors.js","components/pagination/pagination.js","components/feeds/feeds.js","utils.js","page/homePage/homePage.js","components/form/form.js","library/formControls/formControlsCreat.js","library/formControls/formControlsHandler.js","library/formControls/formControlsFunc.js","library/formControls/validation.js","page/newArticle/newArticle.js","page/settings/settings.js","components/button/followButton/followButton.js","page/profile/profile.js","components/button/deleteButtun/deleteButton.js","components/comments/comment/comment.js","components/comments/comments.js","page/articleFull/articleFull.js","components/navBar/navList/navList.js","components/navBar/navBar.js","components/navBar/navDefault/navDefault.js","components/navBar/navAuth/navAuth.js","page/authentication/authentication.js","routes.js","context/currentUser/currentUserProvider.js","context/Context.js","components/currentUserChecker/currentUserChecker.js","index.js"],"names":["Information","props","sectionName","profile","article","className","img","src","alt","title","subtitle","icon","onClick","onButtonClickHandler","buttonText","children","TagsList","tagsList","map","text","i","key","onClickHandler","Tags","UserInf","articleFull","to","author","username","image","Date","createdAt","toLocaleDateString","CurrentUserContext","createContext","useLocalStorage","initialValue","useState","localStorage","getItem","value","setValue","useEffect","setItem","useFetch","url","baseUrl","response","setResponse","error","setError","isLoading","setIsLoading","options","setOptions","token","doFetch","useCallback","requestOptions","headers","authorization","axios","then","res","data","catch","withRouter","useContext","user","favorited","isFavorite","setIsFavorite","favoritesCount","favoriteCount","setFavoriteCount","slug","doFetchFavorite","style","backgroundColor","color","isLoggedIn","prevState","method","history","push","isFavoriteButton","data-article-id","id","description","tagList","Articles","articleList","updateArticles","Tabs","links","href","exact","Loader","BackendErrors","console","log","Object","keys","errors","limit","itemsCount","isLoadingArticles","maxPage","Math","ceil","page","useRef","document","onscroll","window","pageYOffset","documentElement","clientHeight","scrollHeight","current","search","parsedSearch","parse","currentPage","Number","offset","getPaginator","location","stringifiedParams","stringify","defaultFetchUrl","articleUrl","setArticleUrl","tags","errorTags","doFetchTags","articles","errorArticles","doFetchArtciles","setArticleList","tagName","setTagName","tabsLink","tabsLinkCreator","link","textLink","fetchUrl","isTagsShow","concat","str","slice","indexOf","length","textAlign","articlesCount","match","name","HomePage","Form","onSubmit","onSubmitHandler","e","preventDefault","disabled","formDisabled","controlsCreate","control","tag","type","placeholder","required","onChangeHandler","validation","valid","touched","isValid","onChange","event","target","inputCreate","rows","textAreaCreate","signInControls","signUpControls","settingsControls","newArticleControls","commentsControls","emailHandler","setEmail","passwordHandler","setPassword","usernameHandler","setUsername","inputHandler","setInput","addDateToFormControls","formControlsCreate","newDate","Array","fill","_","formIsValid","formControls","controlValid","validateEmail","email","test","validatePassword","password","validateUsername","NewArticle","setTitle","setDescription","body","setBody","setTags","functions","creators","handlers","toString","split","Settings","currentUser","setCurrentUserState","setUrl","bio","setBio","newPassword","setNewPassword","validations","following","isFollowing","setIsFollowing","doFetchFollow","Profile","isAuthProfile","setIsAuthProfile","usernameParams","params","doFetchProfile","myPostsUrl","favoritePostUrl","authInf","DeleteButton","isDelete","setIsDelete","doFetchComment","comment","Comments","comments","index","ArticleFull","commentState","setCommentState","commentList","setCommentList","isComment","setIsComment","isArray","paddingTop","NavList","linkIcon","linkText","NavBar","brand","NavDefault","NavAuth","Authentication","isLogin","path","pageTitle","descriptionLink","descriptionText","apiUrl","isSuccessfullSubmit","setIsSuccessfulSubmit","setToken","formControlsSignIn","formControlsSignUp","sendData","component","CurrentUserProvider","state","setState","Provider","CurrentUserChecker","App","Context","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9d7871a9.chunk.js","sourcesContent":["import React from 'react';\r\nimport './information.scss';\r\n\r\nconst Information = props => {\r\n   let sectionName = 'information';\r\n\r\n    if(props.profile) sectionName += ' profile';\r\n    if(props.article) sectionName += ' article';\r\n\r\n    return (\r\n        <section className={sectionName}>\r\n        <div className=\"container\">\r\n            <div className=\"information-wrapper\">\r\n                {props.img ?  <img src={props.img || \"https://png.pngtree.com/png-vector/20190828/ourlarge/pngtree-smile-icon-template-design-smiling-emoticon-vector-logo-on-yellow-background-png-image_1715036.jpg\"} className=\"information-img\" alt=\"avatar\"/>: null}\r\n                {props.title ? <h2 className=\"information-title\">{props.title || 'title'}</h2> : null}\r\n                {props.subtitle ? <p className=\"information-subtitle\">{props.subtitle || 'subtitle'}</p> : null}\r\n                {props.icon ? <button className=\"information-button\" onClick={props.onButtonClickHandler || null}><span className=\"information-button-icon\"><i className={props.icon}></i></span>{props.buttonText}</button> : null}\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    </section>\r\n    )\r\n}\r\n\r\nexport default Information;\r\n","import React from 'react';\r\nimport './tagsList.scss';\r\n\r\nconst TagsList = props => {\r\n    const createItem = (text, i) => {\r\n        return <div className=\"tags-item\" key={i} onClick={() => {\r\n            if(typeof props.onClickHandler === 'function') props.onClickHandler(text);\r\n            else return;\r\n        }}>{text || 'tag'}</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"tags-list\">\r\n        {props.tagsList.map(createItem)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TagsList;","import React from 'react';\r\nimport './tags.scss';\r\nimport TagsList from './tagsList/tagsList';\r\n\r\nconst Tags = props => {\r\n    return (\r\n        <aside className=\"tags\">\r\n            <h2 className=\"tags-title\">Popular tags</h2>\r\n            <TagsList onClickHandler={props.onClickHandler} tagsList={props.tagsList} />\r\n        </aside>\r\n    )\r\n}\r\n\r\nexport default Tags;","import React from 'react'; \r\nimport './userInf.scss';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst UserInf = props => (\r\n    <div className={props.articleFull ? \"user-meta-item articleFull\" : \"user-meta-item\"}>\r\n        <Link to={`/profile/${props.author.username}`} className=\"user-profile-link\"><img src={props.author.image} alt=\"avatar\" /></Link>\r\n            <div className=\"user-meta-info\">\r\n                <Link to={`/profile/${props.author.username}`} className=\"user-login-name\">{props.author.username}</Link>\r\n                <time className=\"user-date\">{new Date(props.createdAt).toLocaleDateString()}</time>\r\n        </div>\r\n        {props.children}\r\n   </div>\r\n)\r\n\r\nexport default UserInf;","import {createContext} from 'react';\r\n\r\nexport const CurrentUserContext = createContext([{}, ()=>{}]);","import {useState, useEffect} from 'react';\r\n\r\nexport function useLocalStorage(key, initialValue='') {\r\n    const [value, setValue] = useState(() => {\r\n        return localStorage.getItem(key) || initialValue;\r\n    });\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(key, value);     \r\n    }, [value, key]);\r\n\r\n    return [value, setValue]\r\n}","import {useState, useEffect, useCallback} from 'react';\r\nimport axios from 'axios';\r\nimport { useLocalStorage } from './useLocalStorage';\r\n\r\nexport function useFetch(url) {\r\n    const baseUrl = `https://conduit.productionready.io/api`;\r\n    const [response, setResponse] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [options, setOptions] = useState({});\r\n    const [token] = useLocalStorage('jwtToken');\r\n\r\n    const doFetch = useCallback((options = {}) =>  {\r\n        setOptions(options);\r\n        setIsLoading(true);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const requestOptions = {\r\n            ...options,\r\n            ...{\r\n                headers: {\r\n                    authorization: token ? `Token ${token}` : ''\r\n                }\r\n            }\r\n        }\r\n        if(!isLoading) return;\r\n        axios(baseUrl + url, requestOptions)\r\n            .then(res => {\r\n                setResponse(res.data);\r\n                setIsLoading(false);\r\n            })\r\n            .catch(error => {\r\n                setError(error.response.data);\r\n                setIsLoading(false);\r\n            }) \r\n    }, [isLoading, baseUrl, url, options, token]); \r\n\r\n    return [{response, error, isLoading, setResponse}, doFetch]\r\n}\r\n","import React, {useEffect, useState, useContext} from 'react';\r\nimport { CurrentUserContext } from './../../../context/currentUser/currentUserContext';\r\nimport {withRouter} from 'react-router-dom';\r\nimport { useFetch } from './../../../library/hooksLibrary';\r\n\r\nconst FavoriteButton = props => {\r\n    const [user] = useContext(CurrentUserContext);\r\n    const [isFavorite, setIsFavorite] = useState(props.favorited);\r\n    const [favoriteCount, setFavoriteCount] = useState(props.favoritesCount);\r\n    const [,doFetchFavorite] = useFetch(`/articles/${props.slug}/favorite`);\r\n\r\n    const buttonLikeActive = {\r\n        backgroundColor: '#5cb85c',\r\n        color: 'white'\r\n    }\r\n        \r\n    function buttonClickHandler() {\r\n        if(!user.isLoggedIn) {\r\n            props.history.push('/login');\r\n            return;\r\n        }\r\n        if(isFavorite) {\r\n            setFavoriteCount(prevState => prevState - 1);\r\n            doFetchFavorite({method: 'delete'});\r\n        }\r\n        else {\r\n            setFavoriteCount(prevState => prevState + 1);\r\n            doFetchFavorite({method: 'post', data:{}});\r\n        }\r\n        setIsFavorite(prevState => !prevState);\r\n    }\r\n\r\n\r\n    return (\r\n        <button className={'article-button-like'} style={isFavorite ? buttonLikeActive : {}} onClick={buttonClickHandler}><span className=\"like\"><i className=\"fas fa-heart\"></i></span>{props.isFavoriteButton ? (isFavorite ? `UnFavorite Article(${favoriteCount})` : `Favorite Article(${favoriteCount})`) : favoriteCount}</button>\r\n    )\r\n}\r\n\r\nexport default withRouter(FavoriteButton);","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport './article.scss';\r\nimport TagsList from './../../tags/tagsList/tagsList';\r\nimport UserInf from './userInf/userInf';\r\nimport {withRouter} from 'react-router-dom'\r\nimport FavoriteButton from './../../../button/FavoriteButton/FavoriteButton';\r\n\r\nconst Article = (props) => (\r\n    <article className=\"article\" data-article-id={props.id}>\r\n        <div className=\"article-meta\">\r\n            <div className=\"article-meta-item\">\r\n                <UserInf author={props.author} createdAt={props.createdAt}/>\r\n            </div>\r\n            <FavoriteButton slug={props.slug} favorited={props.favorited}  favoritesCount={props.favoritesCount}/>\r\n        </div>\r\n        <Link to={`/article/${props.slug}`} className=\"article-preview-link\">\r\n            <h2 className=\"article-title\">{props.title}</h2>\r\n            <p className=\"article-text\">{props.description}</p>\r\n            <div className=\"article-preview-item\">\r\n                <span>Read more...</span>\r\n                <TagsList tagsList={props.tagList} />\r\n            </div>\r\n        </Link>\r\n    </article>\r\n);\r\n\r\n\r\nexport default withRouter(Article);","import React from 'react';\r\nimport Article from './article/article';\r\n\r\nconst Articles = props => {\r\n    const createArticle = (article, i) => {\r\n        return <Article updateArticles={props.updateArticles} key={i} {...article} />\r\n    }\r\n    return (\r\n        <>\r\n            {props.articleList.map(createArticle)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Articles;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport './tabs.scss'\r\nconst Tabs = props => {\r\n    const createLink = ({text='', href='/', exact=false, onClick}, i) => {\r\n        return  <li className=\"tabs-item\" key={i} onClick={onClick}><NavLink to={href} exact={exact}  className={'tabs-link'}>{text}</NavLink></li>\r\n    }\r\n    return (\r\n        <div className=\"tabs\">\r\n            <ul className=\"tabs-list\">\r\n                {\r\n                    props.links.map(createLink)\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Tabs;","import React from 'react';\r\nimport './loader.scss';\r\n\r\nconst Loader = () => (\r\n    <div className=\"loader-wrapper\"><div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>\r\n)\r\nexport default Loader;","import React from 'react';\r\nimport './backendErrors.scss';\r\n\r\nconst BackendErrors = props => {\r\n    console.log(props)\r\n    return (\r\n        <ul className=\"errors-messages\">\r\n            {Object.keys(props.errors).map((key, i) => {\r\n                return <li key={i}>{key +' ' +  props.errors[key]}</li>\r\n            })}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default BackendErrors;","import {useEffect, useRef} from 'react';\r\nimport './pagination.scss';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\n\r\nconst Pagination = ({limit, itemsCount, url, isLoadingArticles, history}) => {\r\n    const maxPage = Math.ceil(itemsCount / limit);\r\n    const page = useRef(1);\r\n\r\n    useEffect(() =>{\r\n        document.onscroll = () => {\r\n            if(window.pageYOffset + document.documentElement.clientHeight >= document.documentElement.scrollHeight) {\r\n               if((page.current <= maxPage) && !isLoadingArticles) {\r\n                page.current += 1;\r\n                history.push(`${url}?page=${page.current}`)\r\n               }\r\n            }\r\n        }\r\n        return () => {\r\n            document.onscroll = null;\r\n        }\r\n    },[maxPage, url]);\r\n\r\n    return null;\r\n}\r\n\r\nexport default withRouter(Pagination);","import React,{useState, useEffect} from 'react';\r\nimport './feeds.scss';\r\nimport Tags from './tags/tags';\r\nimport Articles from './articles/articles';\r\nimport Tabs from './tabs/tabs';\r\nimport { useFetch } from './../../library/hooks/useFetch';\r\nimport Loader from './../loader/loader';\r\nimport BackendErrors from './../backendErrors/backendErrors';\r\nimport Pagination from './../pagination/pagination';\r\nimport {withRouter} from 'react-router-dom';\r\nimport { getPaginator, limit, searchAndDeleteQuery } from './../../utils';\r\nimport { stringify } from 'query-string';\r\n\r\nconst Feeds = props => {\r\n    const {currentPage, offset} = getPaginator(props.location.search);\r\n    const stringifiedParams = stringify({\r\n        limit, offset,\r\n    });\r\n    const [articleUrl, setArticleUrl] = useState(props.defaultFetchUrl+`limit=${limit}&offset=0`);\r\n    const [{response:tags, error:errorTags}, doFetchTags] = useFetch('/tags');\r\n    const [{response:articles, error:errorArticles, isLoading:isLoadingArticles, setResponse}, doFetchArtciles] = useFetch(articleUrl);\r\n    const [articleList, setArticleList] = useState([]);\r\n    const [tagName, setTagName] = useState('');\r\n\r\n    let tabsLink = props.tabsLinkCreator.map(link => {\r\n        return {\r\n            text: link.textLink,\r\n            href: link.href,\r\n            exact:link.exact,\r\n            onClick: () => {\r\n                setArticleUrl(link.fetchUrl+`limit=${limit}&offset=0`);\r\n                setArticleList([]);\r\n                setResponse(null);\r\n                doFetchArtciles();\r\n                if(tagName) setTagName('');\r\n            }\r\n        }\r\n    })\r\n\r\n\r\n    useEffect(() => {\r\n        if(props.isTagsShow) doFetchTags();\r\n        doFetchArtciles();\r\n    },[doFetchTags, doFetchArtciles, props.isTagsShow]);\r\n\r\n    useEffect(() => {\r\n        if(!articles) return;\r\n        setArticleList(prevState => prevState.concat(articles.articles))\r\n    }, [articles])\r\n\r\n    useEffect(() => {\r\n        if(!articles) return;\r\n        setArticleUrl(prevState => (searchAndDeleteQuery(prevState) + stringifiedParams))\r\n    },[currentPage, doFetchArtciles])\r\n\r\n    useEffect(() => {\r\n        if(!articles) return;\r\n        doFetchArtciles()\r\n    }, [articleUrl, doFetchArtciles]);\r\n\r\n    const tagsClickHandler = (name) => {\r\n        setTagName(name)\r\n        setArticleUrl(`/articles?tag=${name}&limit=10&offset=0`);\r\n        setArticleList([]);\r\n        setResponse(null);\r\n        doFetchArtciles();\r\n    }\r\n    \r\n    if(tagName) {\r\n        tabsLink = tabsLink.concat([{\r\n            text: '#'+tagName,\r\n            href: '/',\r\n            exact:false,\r\n            onClick: () => {\r\n                setArticleUrl(`/articles?tag=${tagName}&limit=10&offset=0`);\r\n                setArticleList([]);\r\n                setResponse(null);\r\n                doFetchArtciles();\r\n            }\r\n        }])\r\n    }\r\n\r\n    return (\r\n        <section className=\"feeds\">\r\n            <div className=\"container\">\r\n            <div className=\"feeds-wrapper\">\r\n                    <div className=\"feeds-item\">\r\n                       <Tabs links={tabsLink} />\r\n                       <div className=\"feed\">\r\n                            <div className=\"feed-wrapper\">\r\n                                {articles ? <Articles articleList={articleList} /> : null}\r\n                                {articles && !articles.articles.length ? <p style={{textAlign: 'center'}}>No articles are here... yet.</p> : null}\r\n                                {isLoadingArticles ? <Loader /> : null}\r\n                                {errorArticles ? <BackendErrors errors={errorArticles.errors} /> : null}\r\n                                {articles ? <Pagination isLoading={isLoadingArticles} itemsCount={articles.articlesCount} limit={limit} url={props.match.url}/> : null}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    { props.isTagsShow \r\n                        ?  <div className=\"feeds-item\">\r\n                            {tags ? <Tags onClickHandler={tagsClickHandler} tagsList={tags.tags}/> : null}\r\n                            {errorTags ? <BackendErrors errors={errorTags.errors} /> : null}\r\n                        </div>\r\n                        : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default withRouter(Feeds);","import { parse } from \"query-string\";\r\n\r\nexport const range = (start, end) => {\r\n    return [...Array(end).keys()].map(key => key + start);\r\n}\r\n\r\nexport const limit = 10;\r\n\r\nexport const getPaginator = search => {\r\n    const parsedSearch = parse(search);\r\n    const currentPage = parsedSearch.page ? Number(parsedSearch.page) : 1;\r\n    const offset = currentPage * limit - limit;\r\n    return {currentPage, offset}\r\n}\r\n\r\nexport const searchAndDeleteQuery = (str) => {\r\n    return str.slice(0, str.indexOf('limit'))\r\n}","import React, {useContext} from 'react';\r\nimport Information from './../../components/information/information';\r\nimport Feeds from './../../components/feeds/feeds';\r\nimport { CurrentUserContext } from './../../context/currentUser/currentUserContext';\r\n\r\n\r\nconst HomePage = props => {\r\n    const [user] = useContext(CurrentUserContext);\r\n    const feedUrl = '/articles/feed?';\r\n    const globalFeedUrl = '/articles?';\r\n\r\n    const tabsLinkCreator = [\r\n        {\r\n            fetchUrl: feedUrl,\r\n            textLink: 'Your Feed',\r\n            href: user.isLoggedIn ? '/' : '/login',\r\n            exact: true\r\n        },\r\n        {\r\n            fetchUrl: globalFeedUrl,\r\n            textLink: 'Global Feed',\r\n            href:'/',\r\n            exact: false\r\n        }\r\n    ];\r\n \r\n    return (\r\n        <>\r\n            {user.isLoading || user.isLoggedIn ? null : <Information title=\"medium\" subtitle=\"A place to share your React knowledge\"/>}\r\n            <Feeds defaultFetchUrl={user.isLoggedIn ? feedUrl : globalFeedUrl} tabsLinkCreator={tabsLinkCreator} isTagsShow={true}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\r\nimport './form.scss';\r\n\r\nconst Form = props => {\r\n    const inputCreate = ({type='text', name='', placeholder='', required=true, onChangeHandler=null, value='', validation, valid, touched, isValid}, i) => {\r\n        console.log(value)\r\n        return <fieldset \r\n                className=\"form-group\" \r\n                key={i}>\r\n                <input type={type} \r\n                className=\"form-control\" \r\n                name={name} \r\n                placeholder={placeholder} \r\n                required={required} \r\n                onChange={(event) => {\r\n                    touched.current = true;\r\n                    valid.current = typeof validation === \"function\"? validation(event.target.value) : true;\r\n                    isValid.current = touched.current && valid.current\r\n                    onChangeHandler(event);\r\n                }} \r\n                value={value}\r\n                />\r\n        </fieldset>\r\n    }\r\n\r\n    const textAreaCreate = ({name='', placeholder='', rows=8, required=true, onChangeHandler=null, value=''}, i) => {\r\n       return <fieldset \r\n                className=\"form-group\" \r\n                key={i}>\r\n                <textarea \r\n                className=\"form-control\" \r\n                name={name} \r\n                placeholder={placeholder} \r\n                rows={rows} \r\n                required={required} \r\n                onChange={(event) => {\r\n                    onChangeHandler(event);\r\n                }} \r\n                value={value} \r\n                />\r\n            </fieldset>\r\n    }\r\n\r\n    return (\r\n        <form className=\"form\" onSubmit={props.onSubmitHandler ? props.onSubmitHandler: (e) => e.preventDefault}>\r\n            <fieldset disabled={props.formDisabled}>\r\n                {   //eslint-disable-next-line\r\n                    props.controlsCreate.map((control, i) => {\r\n                        if(control.tag === 'input') return inputCreate(control, i);\r\n                        if(control.tag === 'textarea') return textAreaCreate(control, i);\r\n                    })\r\n                }\r\n                <button className=\"form-button\" disabled={props.disabled}>{props.buttonText || 'button'}</button>\r\n                {props.children}\r\n            </fieldset>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form;","export const signInControls = [\r\n    {tag: 'input', type: 'email', name: 'email', placeholder: 'Email'},\r\n    {tag: 'input', type: 'password', name: 'password', placeholder: 'Password'}\r\n];\r\n\r\nexport const signUpControls = [\r\n    {tag: 'input', type: 'text', name: 'username', placeholder: 'Username'},\r\n    {tag: 'input', type: 'email', name: 'email', placeholder: 'Email'},\r\n    {tag: 'input', type: 'password', name: 'password', placeholder: 'Password'},\r\n]\r\n\r\nexport const settingsControls = [\r\n    {tag: 'input', name: 'picture', placeholder: 'URL of profile picture', required: 'false'},\r\n    {tag: 'input', name: 'username', placeholder: 'Username'},\r\n    {tag: 'textarea', name: 'bio', placeholder: 'Short bio about you', rows: '8', required: 'false' },\r\n    {tag: 'input', name: 'email', placeholder: 'Email'},\r\n    {tag: 'input', name: 'newpassword', placeholder: 'New Password', required: 'false'},\r\n];\r\n\r\nexport const newArticleControls =  [\r\n    {tag: 'input', name: 'title', placeholder: 'Article Title'},\r\n    {tag: 'input', name: 'about', placeholder: 'What`s this article about'},\r\n    {tag: 'textarea', name: 'article', placeholder: 'Write your article(in markdown)', rows: '8'},\r\n    {tag: 'input', name: 'tags', placeholder: 'Enter tags'},\r\n];\r\n\r\nexport const commentsControls = [\r\n    {tag: 'textarea', name: 'comment', placeholder: 'Write a commet', rows: '8'},\r\n];","export const emailHandler = (setEmail) => {\r\n    return (event) => {\r\n        setEmail(event.target.value);\r\n    }\r\n}\r\n\r\nexport const passwordHandler = (setPassword) => {\r\n    return (event) => {\r\n        setPassword(event.target.value);\r\n    }\r\n}\r\n\r\nexport const usernameHandler = (setUsername) => {\r\n    return (event) => {\r\n        setUsername(event.target.value);\r\n    }\r\n}\r\n\r\nexport const inputHandler = (setInput) => {\r\n    return (event) => {\r\n        setInput(event.target.value);\r\n    }\r\n}","import {useRef} from 'react';\r\n\r\nexport function addDateToFormControls(formControlsCreate, newDate) {\r\n    return new Array(formControlsCreate.length).fill('').map((_, i) => {\r\n        return {\r\n            ...formControlsCreate[i],\r\n            ...newDate[i],\r\n            valid: useRef(false), \r\n            touched: useRef(false),\r\n            isValid: useRef(false)\r\n        }\r\n    });\r\n}\r\n\r\nexport function formIsValid(formControls) {\r\n    let isValid = true;\r\n    for(let control of formControls) {\r\n        isValid = control.isValid.current && isValid;\r\n    }\r\n    return isValid;\r\n}\r\n\r\nexport function controlValid(formControls) {\r\n    for(let i = 0; i < formControls.length; i++) {\r\n        if(formControls[i].touched.current && !formControls[i].isValid.current) return false;\r\n    }\r\n    return true;\r\n}","export function validateEmail(email) {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\nexport function validatePassword(password) {\r\n    return password.length < 8 ? false : true;\r\n}\r\n\r\nexport function validateUsername(username) {\r\n    return username.length < 5 ? false : true;\r\n}","import React,{useState, useEffect} from 'react';\r\nimport Form from './../../components/form/form';\r\nimport { creators, handlers, functions} from '../../library/formLibrary';\r\nimport { useFetch } from './../../library/hooksLibrary';\r\n\r\nconst NewArticle = props => {\r\n    const [title, setTitle] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [body, setBody] = useState('');\r\n    const [tags, setTags] = useState('');\r\n    const [{response, error}, doFetch] = useFetch('/articles');\r\n\r\n    const formControlsCreate = functions.addDateToFormControls(creators.newArticleControls , [\r\n        {value:title, onChangeHandler: handlers.inputHandler(setTitle), required: true},\r\n        {value:description, onChangeHandler: handlers.inputHandler(setDescription), required: true},\r\n        {value:body, onChangeHandler: handlers.inputHandler(setBody),required: true },\r\n        {value:tags, onChangeHandler: handlers.inputHandler(setTags), required: false },\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        if(!response) return;\r\n        props.history.push(`/article/${response.article.slug}`);\r\n    }, [response, props.history])\r\n\r\n    function submitHandler(event) {\r\n        event.preventDefault();\r\n        doFetch({ method: 'post', data: {article: {tagList: tags.split(',') || [], title, description, body}}})\r\n    }\r\n\r\n    return (\r\n        <section className=\"auth-login\">\r\n                <div className=\"container\">\r\n                    <div className=\"auth-login-wrapper\">\r\n                        <h2 className=\"auth-login-title\">Your Article</h2>\r\n                        <span className=\"auth-login-error\">{error ? error.errors.toString() : null}</span>\r\n                        <Form onSubmitHandler={submitHandler} buttonText=\"Publish Article\" controlsCreate={formControlsCreate}/>\r\n                    </div>\r\n                </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default NewArticle;","import React, {useState, useContext, useEffect} from 'react';\r\nimport './settings.scss';\r\nimport Form from './../../components/form/form';\r\nimport { creators, handlers, functions, validations} from '../../library/formLibrary';\r\nimport { CurrentUserContext } from './../../context/currentUser/currentUserContext';\r\nimport { useFetch, useLocalStorage } from './../../library/hooksLibrary';\r\n\r\n\r\nconst Settings = props => {\r\n    const [currentUser, setCurrentUserState] = useContext(CurrentUserContext);\r\n    const [url, setUrl] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [bio, setBio] = useState('');\r\n    const [newPassword, setNewPassword] = useState('');\r\n    const [{response, error, isLoading}, doFetch] = useFetch('/user');\r\n    const [,setToken] = useLocalStorage('jwtToken')\r\n\r\n    useEffect(() => {\r\n        if(!currentUser.currentUser) return;\r\n        setUsername(currentUser.currentUser.username);\r\n        setEmail(currentUser.currentUser.email);\r\n        setBio(currentUser.currentUser.bio);\r\n        setUrl(currentUser.currentUser.image || '');\r\n        doFetch({method: 'put', data: {user:{...currentUser.currentUser}}});\r\n    }, [currentUser, doFetch])\r\n\r\n    const formControlsCreate = functions.addDateToFormControls(creators.settingsControls , [\r\n        {value:url, onChangeHandler: handlers.inputHandler(setUrl), required: false},\r\n        {value:username, onChangeHandler: handlers.usernameHandler(setUsername), validation: validations.validateUsername,required: false },\r\n        {value:bio, onChangeHandler: handlers.emailHandler(setBio),required: false },\r\n        {value:email, onChangeHandler: handlers.emailHandler(setEmail), validation: validations.validateEmail,required: false },\r\n        {value:newPassword, onChangeHandler: handlers.passwordHandler(setNewPassword), validation: validations.validatePassword,required: true},\r\n    ]);\r\n\r\n    const submitHandler = (event) => {\r\n        event.preventDefault();\r\n        setCurrentUserState(prevState => ({...prevState, currentUser:{\r\n            ...prevState.currentUser,\r\n            password:newPassword, bio, image:url, email, username\r\n        }}));\r\n        props.history.push(`/profile/${currentUser.currentUser.username}`);\r\n    }\r\n\r\n    const logOut = () => {\r\n        localStorage.setItem('jwtToken', '')\r\n        setCurrentUserState({isLoggedIn:null, isLoading:false, currentUser: null});\r\n        props.history.push('/')\r\n    }\r\n\r\n\r\n    return (\r\n        <section className=\"auth-login\">\r\n                <div className=\"container\">\r\n                    <div className=\"auth-login-wrapper\">\r\n                        <h2 className=\"auth-login-title\">Your Settings</h2>\r\n                        <span className=\"auth-login-error\">{error ? error.errors.toString() : null}</span>\r\n                        <Form onSubmitHandler={submitHandler} buttonText=\"Update Settings\" controlsCreate={formControlsCreate}>\r\n                            <hr />\r\n                            <button type='button' onClick={logOut} className=\"logout\">Or click here to logout</button>\r\n                        </Form>\r\n                    </div>\r\n                </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React, {useState, useContext} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport { CurrentUserContext } from './../../../context/currentUser/currentUserContext';\r\nimport { useFetch } from './../../../library/hooksLibrary';\r\n\r\nconst FollowButton = props => {\r\n    const [user] = useContext(CurrentUserContext);\r\n    const [isFollowing, setIsFollowing] = useState(props.following);\r\n    const [,doFetchFollow] = useFetch(`/profiles/${props.username}/follow`); \r\n\r\n    const buttonClickHandler = () => {\r\n        if(!user.isLoggedIn) {\r\n            props.history.push('/login');\r\n            return;\r\n        }\r\n        if(isFollowing) doFetchFollow({method: 'delete'});\r\n        else doFetchFollow({method: 'post', data:{}});\r\n        setIsFollowing(prevState => !prevState);\r\n    }\r\n\r\n    return (\r\n        <button onClick={buttonClickHandler} className=\"information-button\"><span className=\"information-button-icon\"><i className='fas fa-plus'></i></span>{isFollowing ? `Unfollow ${props.username} ` : `Follow ${props.username}`}</button>\r\n    )\r\n}\r\n\r\nexport default withRouter(FollowButton);","import React, {useEffect, useContext, useState} from 'react';\r\nimport Information from './../../components/information/information';\r\nimport Feeds from './../../components/feeds/feeds';\r\nimport { useFetch } from './../../library/hooksLibrary';\r\nimport FollowButton from '../../components/button/followButton/followButton';\r\nimport { CurrentUserContext } from './../../context/currentUser/currentUserContext';\r\n\r\n\r\nconst Profile = props => {\r\n    const [user] = useContext(CurrentUserContext);\r\n    const [isAuthProfile, setIsAuthProfile] = useState(false);\r\n    const usernameParams = props.match.params.username;\r\n    const [{response:profile}, doFetchProfile] = useFetch(`/profiles/${usernameParams}`); \r\n    const myPostsUrl = `/articles?author=${usernameParams}&`;\r\n    const favoritePostUrl = `/articles?favorited=${usernameParams}&`;\r\n\r\n    const authInf = {\r\n        icon:'fas fa-cog',\r\n        buttonText: 'Edit Settings',\r\n        onButtonClickHandler: () => props.history.push('/settings')\r\n    }\r\n\r\n    const tabsLinkCreator = [\r\n        {\r\n            fetchUrl: myPostsUrl,\r\n            textLink: 'My Posts',\r\n            href: `/profile/${usernameParams}`,\r\n            exact: true\r\n        },\r\n        {\r\n            fetchUrl: favoritePostUrl,\r\n            textLink: 'Favorited Posts',\r\n            href:`/profile/${usernameParams}/favorites`,\r\n            exact: false\r\n        }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        if(!user.currentUser) return;\r\n        setIsAuthProfile(usernameParams === user.currentUser.username);\r\n    }, [user.currentUser]);\r\n\r\n    useEffect(() => {\r\n        doFetchProfile();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            { profile && !isAuthProfile ? <Information img={profile.profile.image} title={profile.profile.username} subtitle={profile.profile.bio} profile={true}><FollowButton username={props.match.params.username} following={profile.profile.following} /></Information> : null}\r\n            { profile && isAuthProfile ? <Information img={profile.profile.image} title={profile.profile.username} subtitle={profile.profile.bio} profile={true}  {...authInf}></Information> : null}\r\n            <Feeds tabsLinkCreator={tabsLinkCreator} defaultFetchUrl={myPostsUrl} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, {useState, useEffect} from 'react';\r\nimport { useFetch } from './../../../library/hooksLibrary';\r\n\r\nconst DeleteButton = props => {\r\n    const [isDelete, setIsDelete] = useState(false);\r\n    const[,doFetchComment] = useFetch(`/articles/${props.slug}/comments/${props.id}`);\r\n\r\n    useEffect(() => {\r\n        if(isDelete) {\r\n            doFetchComment({method: 'delete'});\r\n        }\r\n    }, [isDelete, doFetchComment]);\r\n\r\n    return  <span onClick={() => setIsDelete(true)}><i className=\"fas fa-trash-alt\"></i></span>\r\n}\r\n\r\nexport default DeleteButton;","import React, {useContext} from 'react';\r\nimport './comment.scss';\r\nimport UserInf from './../../feeds/articles/article/userInf/userInf';\r\nimport DeleteButton from './../../button/deleteButtun/deleteButton';\r\nimport { CurrentUserContext } from './../../../context/currentUser/currentUserContext';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst Comment = ({comment, ...props}) => {\r\n    const [user] = useContext(CurrentUserContext);\r\n    return (\r\n        <div className=\"comment\">\r\n            <div className=\"comment-block\">\r\n                <p className=\"comment-text\">{comment.body}</p>\r\n            </div>\r\n            <div className=\"comment-footer\">\r\n                <UserInf author={comment.author} createdAt={comment.createdAt}/>\r\n                {user.currentUser.username === comment.author.username ? <DeleteButton slug={props.match.params.slug} id={comment.id} /> : null}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Comment);","import React from 'react';\r\nimport Comment from './comment/comment';\r\n\r\nconst Comments = props => {\r\n    function createComment(comment, index) {\r\n        return <Comment comment={comment} index={index} key={index}/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {props.comments.map(createComment)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Comments;","import React, {useContext, useEffect, useState} from 'react';\r\nimport './articleFull.scss';\r\nimport Information from './../../components/information/information';\r\nimport UserInf from './../../components/feeds/articles/article/userInf/userInf';\r\nimport TagsList from '../../components/feeds/tags/tagsList/tagsList';\r\nimport Form from './../../components/form/form';\r\nimport { CurrentUserContext } from './../../context/currentUser/currentUserContext';\r\nimport { useFetch } from './../../library/hooksLibrary';\r\nimport { Link } from 'react-router-dom';\r\nimport { creators, handlers, functions } from './../../library/formLibrary';\r\nimport Comments from './../../components/comments/comments';\r\nimport FavoriteButton from '../../components/button/FavoriteButton/FavoriteButton';\r\nimport FollowButton from '../../components/button/followButton/followButton';\r\nimport Loader from './../../components/loader/loader';\r\n\r\nconst ArticleFull = props => {\r\n    const [user] = useContext(CurrentUserContext);\r\n    const [{response:articles}, doFetchArtciles] = useFetch(`/articles/${props.match.params.slug}`);\r\n    const [{response:comments}, doFetchComment] = useFetch(`/articles/${props.match.params.slug}/comments`);\r\n    const [commentState, setCommentState] = useState('');\r\n    const [commentList, setCommentList] = useState([]);\r\n    const [isComment, setIsComment] = useState(false);\r\n    const formControlsCreate = functions.addDateToFormControls(creators.commentsControls , [\r\n        {value:commentState, onChangeHandler: handlers.inputHandler(setCommentState), required: false},\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        doFetchArtciles();\r\n        doFetchComment({method: 'get'})\r\n    }, [doFetchComment, doFetchArtciles]);\r\n\r\n    useEffect(() => {\r\n        if(!comments) return;\r\n        if(Array.isArray(comments.comments)) setCommentList(comments.comments);\r\n        if(comments.comment) setCommentList(prevState => ([comments.comment, ...prevState]))\r\n    }, [comments,doFetchComment])\r\n\r\n\r\n    useEffect(() => {\r\n        if(!articles) return;\r\n        if(isComment) {\r\n            doFetchComment({method: 'post', data: {body: commentState}});\r\n            setIsComment(false);\r\n            setCommentState('')\r\n        }\r\n    },[isComment,setIsComment, doFetchComment]);\r\n\r\n\r\n    const submitHandler = (event) => {\r\n        event.preventDefault();\r\n        setIsComment(true);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n           {articles ?  <Information article=\"true\" title={articles.article.title} buttonText={`Follow Darktime`}>\r\n                <UserInf articleFull=\"true\" author={articles.article.author} createdAt={articles.article.createdAt}>\r\n                    <FollowButton username={articles.article.author.username} following={articles.article.author.following} />\r\n                    <FavoriteButton slug={props.match.params.slug} favorited={articles.article.favorited} favoritesCount={articles.article.favoritesCount} isFavoriteButton={true}/>\r\n                </UserInf>\r\n            </Information> : <Loader />}\r\n            {articles ? <div className=\"container\">\r\n                    <div className=\"articleFull-wrapper\">\r\n                        <article className=\"article\">\r\n                            {articles.article.body}\r\n                            <TagsList tagsList={articles.article.tagList}/>\r\n                        </article>\r\n                        <hr/>\r\n                        <UserInf author={articles.article.author} createdAt={articles.article.createdAt}  >\r\n                            <FollowButton username={articles.article.author.username} following={articles.article.author.following} />\r\n                            <FavoriteButton slug={props.match.params.slug} favorited={articles.article.favorited} favoritesCount={articles.article.favoritesCount} isFavoriteButton={true}/>\r\n                        </UserInf>\r\n                       <div className=\"articlFull-comments-wrapper\">\r\n                            {user.isLoggedIn ? <Form onSubmitHandler={submitHandler} controlsCreate={formControlsCreate} buttonText='Post Comment'/> : <p style={{paddingTop: 50}}><Link to='/login' style={{color: '#5cb85c'}}>Sign in </Link>or<Link to='/register' style={{color: '#5cb85c'}}> sign up</Link> to add comments on this article.</p> }\r\n                            {commentList.length ? <Comments comments={commentList}/> : null}\r\n                       </div>\r\n                    </div>\r\n            </div> : null}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ArticleFull;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nimport './navList.scss';\r\n\r\nconst NavList = props => {\r\n    const linkText = ({text, href}, i) => {\r\n        return  <li className=\"nav-item\" key={i}><NavLink to={href}  exact={true} className=\"nav-link\">{text}</NavLink></li>\r\n    }\r\n    const linkIcon = ({text, href, icon}, i) => {\r\n        return  <li className=\"nav-item\" key={i}><span><i className={icon}></i></span><NavLink to={href} className=\"nav-link\">{text}</NavLink></li>\r\n    }\r\n    return (\r\n        <ul className=\"nav-list\">\r\n            {props.links.map((link, i) => {\r\n               if(link.icon) return linkIcon(link, i)\r\n               else return linkText(link, i)\r\n            })}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default NavList;","import React from 'react';\r\nimport './navBar.scss';\r\nimport NavList from './navList/navList';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <header>\r\n            <nav className=\"nav\">\r\n                <div className=\"container\">\r\n                    <div className=\"nav-wrapper\">\r\n                        <Link to='/' className=\"nav-brand\">{props.brand || 'medium'}</Link>\r\n                        <NavList links={props.links}/>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport NavBar from './../navBar';\r\n\r\nconst NavDefault = () => {\r\n    const links = [\r\n\t\t{text: 'Home', href: '/'},\r\n\t\t{text: 'Sign in', href: '/login'}, \r\n\t\t{text: 'Sign up', href:'/register'}\r\n\t]\r\n    return (\r\n        <NavBar links={links}/>\r\n    )\r\n}\r\n\r\nexport default NavDefault;","import React from 'react';\r\nimport NavBar from '../navBar';\r\n\r\nconst NavAuth = (props) => {\r\n  console.log(props)\r\n    const links = [\r\n\t\t{text: 'Home', href: '/'},\r\n\t\t{text: 'New Article', icon: 'far fa-edit', href: '/editor'}, \r\n\t\t{text: 'Settings', icon: 'fas fa-cog', href: '/settings'}, \r\n\t\t{text: props.username, href:'/profile/'+props.username},\r\n    ]\r\n    \r\n    return (\r\n        <NavBar links={links}/>\r\n    )\r\n}\r\n\r\nexport default NavAuth;","import React, { useState, useEffect, useContext } from 'react';\r\nimport './authentication.scss';\r\nimport Form from '../../components/form/form';\r\nimport { creators, handlers, functions, validations} from '../../library/formLibrary';\r\nimport { useFetch, useLocalStorage } from '../../library/hooksLibrary';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { CurrentUserContext } from '../../context/currentUser/currentUserContext';\r\nimport  BackendErrors from '../../components/backendErrors/backendErrors';\r\n\r\n\r\nconst Authentication = props => {\r\n    const isLogin = props.match.path === '/login';\r\n    const pageTitle = isLogin ? 'Sign In' : 'Sign Up';\r\n    const descriptionLink = isLogin ? '/register' : '/login';\r\n    const descriptionText = isLogin ? 'Need a account' :  'Have an account';\r\n    const apiUrl = isLogin ? '/users/login' : '/users';\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [{response, isLoading, error}, doFetch] = useFetch(apiUrl)\r\n    const [isSuccessfullSubmit, setIsSuccessfulSubmit] = useState(false);\r\n    const [,setToken] = useLocalStorage('jwtToken');\r\n    const [,setCurrentUserState] = useContext(CurrentUserContext);\r\n   \r\n    const  formControlsSignIn =  functions.addDateToFormControls(creators.signInControls , [\r\n        {value:email, onChangeHandler: handlers.emailHandler(setEmail), validation: validations.validateEmail},\r\n        {value:password, onChangeHandler: handlers.passwordHandler(setPassword), validation: validations.validatePassword},\r\n    ]);\r\n    \r\n    const formControlsSignUp = functions.addDateToFormControls(creators.signUpControls , [\r\n        {value:username, onChangeHandler: handlers.usernameHandler(setUsername), validation: validations.validateUsername},\r\n        {value:email, onChangeHandler: handlers.emailHandler(setEmail), validation: validations.validateEmail},\r\n        {value:password, onChangeHandler: handlers.passwordHandler(setPassword), validation: validations.validatePassword},\r\n    ]);\r\n\r\n    const formControls = isLogin ? formControlsSignIn : formControlsSignUp;\r\n\r\n    const submitHandler = event => {\r\n        const sendData = isLogin \r\n            ? {method: 'post', data: {user:{email, password}}} \r\n            : {method: 'post', data: {user:{email, username,password}}}\r\n        event.preventDefault();\r\n        doFetch(sendData)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!response) return;\r\n\r\n        setToken(response.user.token);\r\n        setIsSuccessfulSubmit(true);\r\n        setCurrentUserState(prevState => ({\r\n            ...prevState,\r\n            isLoggedIn: true,\r\n            isLoading: false,\r\n            currentUser: response.user\r\n        }));  \r\n    }, [response, setToken, setCurrentUserState]);\r\n\r\n    if(isSuccessfullSubmit) {\r\n        return <Redirect to='/' />\r\n    }\r\n\r\n    return (\r\n        <section className=\"auth-login\">\r\n                <div className=\"container\">\r\n                    <div className=\"auth-login-wrapper\">\r\n                        <h2 className=\"auth-login-title\">{pageTitle}</h2>\r\n                        <p className=\"auth-login-subtitle\"><a href={descriptionLink} className=\"auth-login-register\">{descriptionText}?</a></p>\r\n                        <span className=\"auth-login-error\">\r\n                            {functions.controlValid(formControls) ? '' : 'Вы ввели не верные данные'}\r\n                            {error ? <BackendErrors errors={error.errors} /> : null}\r\n                        </span>\r\n                        <Form onSubmitHandler={submitHandler} buttonText={pageTitle} disabled={!functions.formIsValid(formControls)} formDisabled={isLoading} controlsCreate={formControls} />\r\n                    </div>\r\n                </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Authentication;","import React, {useContext} from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport HomePage from './page/homePage/homePage';\r\nimport NewArticle from './page/newArticle/newArticle';\r\nimport Settings from './page/settings/settings';\r\nimport Profile from './page/profile/profile';\r\nimport ArticleFull from './page/articleFull/articleFull';\r\nimport NavDefault from './components/navBar/navDefault/navDefault';\r\nimport NavAuth from './components/navBar/navAuth/navAuth';\r\nimport Authentication from './page/authentication/authentication';\r\nimport { CurrentUserContext } from './context/currentUser/currentUserContext';\r\n\r\n\r\n\r\n\r\n\r\nexport default () => {\r\n    const [user] = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <>\r\n            {user.isLoggedIn && !user.isLoading ? <NavAuth username={user.currentUser.username} /> : <NavDefault />}\r\n            <Switch>\r\n                <Route path=\"/\" exact component={HomePage} />\r\n                <Route path=\"/login\" component={Authentication} />\r\n                <Route path=\"/register\" component={Authentication} />\r\n                <Route path=\"/editor\" component={NewArticle} />\r\n                <Route path=\"/settings\" component={Settings} />\r\n                <Route path=\"/profile/:username\" component={Profile} />\r\n                <Route path=\"/article/:slug\" component={ArticleFull} />\r\n                <Redirect to=\"/\" />\r\n            </Switch>\r\n        </>\r\n    )\r\n}","import React, {useState} from 'react';\r\nimport { CurrentUserContext } from './currentUserContext';\r\n\r\nexport const CurrentUserProvider = ({children}) => {\r\n    const [state, setState] = useState({\r\n        isLoading: false,\r\n        isLoggedIn: null,\r\n        currentUser: null\r\n    });\r\n    \r\n    return (\r\n        <CurrentUserContext.Provider value={[state, setState]}>\r\n            {children}\r\n        </CurrentUserContext.Provider>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { CurrentUserProvider } from './currentUser/currentUserProvider';\r\n\r\n\r\nexport default ({children}) => (\r\n    <CurrentUserProvider>\r\n         {children}\r\n    </CurrentUserProvider>\r\n)","import {useEffect, useContext} from 'react';\r\nimport { useFetch, useLocalStorage } from './../../library/hooksLibrary';\r\nimport { CurrentUserContext } from './../../context/currentUser/currentUserContext';\r\n\r\nconst CurrentUserChecker = ({children}) => {\r\n    const [{response}, doFetch] = useFetch('/user');\r\n    const [,setCurrentUserState] = useContext(CurrentUserContext);\r\n    const [token] = useLocalStorage('jwtToken');\r\n\r\n    useEffect(() => {\r\n        if(!token) {\r\n            setCurrentUserState(prevState => ({\r\n                ...prevState,\r\n                isLoggedIn: false\r\n            }));\r\n            return;\r\n        };\r\n        doFetch();\r\n        setCurrentUserState(prevState => ({\r\n            ...prevState,\r\n            isLoading: true\r\n        }));\r\n    }, [token, setCurrentUserState, doFetch]);\r\n\r\n    useEffect(() => {\r\n        if(!response) return;\r\n        setCurrentUserState(prevState => ({\r\n            ...prevState,\r\n            isLoading: false,\r\n            isLoggedIn: true,\r\n            currentUser: response.user\r\n        }));\r\n    }, [response, setCurrentUserState])\r\n\r\n    return children;\r\n}\r\n\r\nexport default CurrentUserChecker;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport  Routes  from './routes';\nimport './index.scss'\nimport Context from './context/Context';\nimport CurrentUserChecker from './components/currentUserChecker/currentUserChecker';\n\nconst App = () => {\n\treturn (\n\t\t<Context>\n\t\t\t<CurrentUserChecker>\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t<Routes />\n\t\t\t\t</BrowserRouter>\n\t\t\t</CurrentUserChecker>\n\t\t</Context>\n\t)\n}\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n"],"sourceRoot":""}